[supervisord]
nodaemon=true

[program:n8n]
command=n8n
user=node
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
environment=HOME="/home/node",USER="node"

[program:task-runner]
command=npx @n8n/task-runner
user=node
autorestart=true
stdout_logfile=/dev/stdout
stdout_logfile_maxbytes=0
stderr_logfile=/dev/stderr
stderr_logfile_maxbytes=0
# Note: External Runner usually needs to know where the broker is
environment=N8N_RUNNERS_TASK_BROKER_URI="http://localhost:5679",HOME="/home/node"